<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>myコレクション</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <style>
        .img-placeholder {
            background-color: #f0f0f0;
            height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: #666;
        }
        
    </style>
</head>
<body>
    <div class="container mt-5">
                <div class="row align-items-center">
                    <div class="col-md-4">
                        <div class="img-placeholder">
                            写真
                        </div>
                    </div>
                    <div class="col-md-8">
                        <h4>題名：${collection.title}</h4>
                        <div class="form-group my-3 d-flex align-items-center">
                            <label>読んだ日：</label>
                            <div class="d-inline-flex align-items-center">
                                <p id="readDateDisplay" class="m-0">2024/xx/xx</p>
                                <div class="d-flex">
                                <input type="date" class="form-control d-none" id="readDate" name="readDate" oninput="enableSubmitButton()">
                                <button type="button" class="btn btn-link edit-button" onclick="toggleEdit('readDate')"><i class="bi bi-pencil-fill"></i></button>
                            </div>
                            </div>
                        </div>
                        <div class="form-group mb-3 d-flex align-items-center">
                            <label>かかった時間：</label>
                            <div class="d-inline-flex align-items-center">
                                <p id="readTimeDisplay" class="m-0"></p>
                                <input type="text" class="form-control d-none" id="readTime" name="readTime" placeholder="例: 2時間30分" oninput="enableSubmitButton()">
                                <button type="button" class="btn btn-link edit-button" onclick="toggleEdit('readTime')"><i class="bi bi-pencil-fill"></i></button>
                            </div>
                        </div>
                        <h6>レビュー
                            <button type="button" class="btn btn-link edit-button" onclick="toggleEdit('review')"><i class="bi bi-pencil-fill"></i></button>
                        </h6>
                        <div class="form-group mb-3">
                            <div class="d-inline-flex align-items-center w-100">
                                <p id="reviewDisplay" class="m-0 border border-black p-2 w-100" style="min-height: 100px;">〇〇なところが予想外だった。同じ作者の作品とは違うテイスト。発売初期のもので背表紙のデザインが良い。</p>
                                <textarea class="form-control d-none w-100" id="review" name="review" rows="4" placeholder="レビューを入力" oninput="enableSubmitButton()" style="height: 100px;"></textarea>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary" id="submitButton" disabled>変更を保存</button>
                        <a href="#" class="btn btn-secondary ml-2">マイページに戻る</a>
                    </div>
                </div>
            
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
    <script>
        function toggleEdit(elementId) {
            var displayElement = document.getElementById(elementId + 'Display');
            var inputElement = document.getElementById(elementId);

            if (inputElement.classList.contains('d-none')) {
                // Edit mode
                displayElement.classList.add('d-none');
                inputElement.classList.remove('d-none');
                inputElement.value = displayElement.textContent.trim() === '' ? '' : displayElement.textContent.trim();
            } else {
                // Display mode
                displayElement.classList.remove('d-none');
                inputElement.classList.add('d-none');
                displayElement.textContent = inputElement.value.trim() || displayElement.textContent;
            }
        }

        function enableSubmitButton() {
            document.getElementById('submitButton').disabled = false;
        }
    </script>
</body>
</html>
